(()=>{let e=document.getElementById("backspace"),t=document.getElementById("valuespace"),n=document.getElementsByClassName("block"),s=document.getElementById("loading"),l=document.getElementById("wrap-access"),a=document.getElementById("finish"),o=!1;e.addEventListener("click",(e=>{t.innerHTML=t.textContent.substring(0,t.textContent.length-1)}));for(let e=0;e<n.length;e++)n.item(e).addEventListener("click",(e=>{let n=e.target.textContent,c=t.innerHTML,d=document.getElementById("authKey").value;if("취소"===n)t.innerHTML="";else if("전송"===n)if(4!==c.length)alert("4자리를 입력해주세요");else{s.classList.remove("off");let e={authKey:d,accessCode:c};fetch("/jongsungogo",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((e=>{e.success?(o=!0,l.classList.add("off"),s.classList.add("off"),a.classList.remove("off")):alert("세션이 연결되지 않았습니다.")}))}else c.length>=4?alert("4자리를 초과할 수 없습니다."):t.innerHTML=c+n}));setInterval((()=>{null==a.classList.item(1)&&(o||(l.classList.remove("off"),s.classList.add("off"),a.classList.add("off")))}),1e3)})();